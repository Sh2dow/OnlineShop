@model IEnumerable<OnlineShop.Models.ItemFinal>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>Products</h2>

<div class='tableKO'>
    <div data-bind='simpleGrid: gridViewModel, simpleGridTemplate: "custom_grid_template"'></div>
    <script type="text/html" id="custom_grid_template">
        <table class="ko-grid" cellspacing="0">
            <thead>
                <tr data-bind="foreach: columns">
                    <th data-bind="text: headerText"></th>
                </tr>
            </thead>
            <tbody data-bind="foreach: itemsOnCurrentPage">
                <tr data-bind="foreach: $parent.columns">
                    <!--ko if: headerText == 'Image'-->
                    <td>
                        <img data-bind="attr: {src:'data:image;base64,' + $parent.Image}" height=80 width=80 />
                    </td>
                    <!-- /ko -->
                    <!--ko ifnot: headerText == 'Image' ||(typeof rowText == 'object' && typeof rowText.action == 'function')-->
                    <td data-bind="text: typeof rowText == 'function' ? rowText($parent) : $parent[rowText] "></td>
                    <!--/ko-->
                </tr>
            </tbody>
        </table>
    </script>

    <button data-bind='click: sortByTitle'>
        Sort by Title
    </button>

    <button data-bind='click: sortByPrice'>
        Sort by Price
    </button>

    <button data-bind='click: jumpToFirstPage, enable: gridViewModel.currentPageIndex'>
        Jump to first page
    </button>
</div>

<script type="text/javascript">
    var jsonData = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model));
</script>
<script src="~/App/PagedGridModel.js"></script>